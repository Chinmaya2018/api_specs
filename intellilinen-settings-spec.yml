swagger: "2.0"
info:
  version: 1.0.0
  title: "IOC Intellilinen Settings"
  description: "API Specs for Intellilinen Settings.
                This will include an API from portal-admin to get all the necessary
                data for hierarchy dropdown functionality.
                This API will be the same API of portal-admin API
                '/api/v1/portal-admin/hierarchies/global_account_id'
                url= http://docs.portaladminconsole.apiary.io/#reference/0/apiv1portal-adminhierarchiesglobalaccountid/get"
  contact:
    name: Thulasiram Karnam
    email: thulasiram.karnam@diversey.com.com
    url: http://sealedair.com
host: AWS_HOST
basePath: /api/v1/intellilinen/global-accounts
schemes:
  - https
consumes:
  - application/json
produces:
  - application/json
paths:
  /{global_account_id}/cost-settings:
    post:
      description: |
                  Create cost settings
                  
                  Version one id = B-02728
      parameters:
        - in: path
          name: global_account_id
          description: global account id
          required: true
          type: string
          default: "123"
        - in: query
          name: overwrite
          description: On creating a new cost settings,
                      If one or more site already assigned to
                      other cost settings than there will be an error
                      httpStatus 400 and an alert box will be displayed
                      to user to overwrite or not, If user click yes,
                      than 'overwrite=true' will be appended to the url.  
                      Then old cost settings will be made inactive and 
                      new one will be active
                      
          required: true
          type: boolean
          default: false
        - in: body
          name: Cost
          required: true
          schema:
            $ref: '#/definitions/requestCostSettings'
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successfully Created Cost Setting
          schema:
            $ref: '#/definitions/responseCostSetting200'
        400:
          description: 'On Submit if selected Site already is Assigned to another cost setting, then HTTP status code 400 and message
                        and also return the list of site ids that are assigned to other cost settings.
                        Either name or sites will be null if only one condition fails.'
          schema:
            $ref: '#/definitions/responseCostSetting400'
  /{global_account_id}/cost-settings/{costsetting_id}/{currency_code}:
    get:
      description: |
                  Fetch cost setting mapped to costsetting_id
                  
                  Version one id = B-02731
      parameters:
        - in: path
          name: global_account_id
          description: global account id
          required: true
          type: string
          default: "123"
        - in: path
          name: currency_code
          description: currency code id
          required: true
          type: string
        - in: path
          name: costsetting_id
          description: costsetting id
          required: true
          type: string
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successfully fetched Cost Setting
          schema:
            $ref: '#/definitions/responseGetCostSetting200'
       
  /{global_account_id}/cost-settings-list/{currency_code}:
    get:
      description: |
                  Fetch all cost settings mapped to a globalid
                  
                  Version one id = B-02732
      parameters:
        - in: path
          name: global_account_id
          description: global account id
          required: true
          type: string
          default: "123"
        - in: path
          name: currency_code
          description: currency code id
          required: true
          type: string
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successfully fetched Cost Settings for Globalid
          schema:
            $ref: '#/definitions/responseGetCostSettings200'
        412:
          description: 'If there are no cost settings defined'
          schema:
            $ref: '#/definitions/responseGetCostSettings412'
  /{global_account_id}/cost-settings/{costsetting_id}:
    put:
      description: |
                  To edit cost settings and to active or deactive it
                  
                  The same API will be called for activating and inactivating
                  cost settings as well.  But in that scenario only 'active' = true or false
                  will be there in request body
                  
                  Version one id = B-02726
      parameters:
        - in: path
          name: global_account_id
          description: global account id
          required: true
          type: string
          default: "123"
        - in: body
          name: Cost
          required: true
          schema:
            $ref: '#/definitions/requestCostSettings'
        - in: path
          name: costsetting_id
          description: cost setting id
          required: true
          type: string
        - in: query
          name: overwrite
          description: On editing cost settings,
                      If one or more site already assigned to
                      other cost settings than there will be an error
                      httpStatus 400 and an alert box will be displayed
                      to user to overwrite or not, If user click yes,
                      than 'overwrite=true' will be appended to the url.  
                      Then old cost settings will be made inactive and 
                      new one will be active
                      
          required: true
          type: boolean
          default: false
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successfully updated cost settings
          schema:
            $ref: '#/definitions/responsePutCostSettings200'
        400:
          description: 'If sites are already having cost settings then
                        error message with list of siteids are send'
          schema:
            $ref: '#/definitions/responseCostSetting400'
 
    delete:
      description: 'Delete will Soft Delete and  the �Endtime�
                    field will be updated to the current time.
                    BACKLOG ITEM B-02733'
      parameters:
        - in: path
          name: global_account_id
          description: global account id
          required: true
          type: string
          default: "123"
        - in: path
          name: costsetting_id
          description: Set end time for the cost setting it
          required: true
          type: string
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successful Threshold Deletion
          schema:
            $ref: '#/definitions/responseDeleteCostThreshold'     
  /{global_account_id}/shift-plans:
    post:
      description: 'Create Shift settings
                    https://seedigital.atlassian.net/browse/DCPORTAL-1394'
      parameters:
        - in: path
          name: global_account_id
          description: global account id
          required: true
          type: string
          default: "123"
        - in: query
          name: overwrite
          description: On creating a new Shift plan,
                      If one or more site already assigned to
                      other shift than there will be an error
                      httpStatus 400 and an alert box will be displayed
                      to user to overwrite or not, If user click yes,
                      than 'overwrite=true' will be appended to the url.
                      Than 'deleted_at' field with current date will be
                      set to the sites associated to older shift plan and
                      the sites will be associated with the new Shift plan.
          required: true
          type: boolean
          default: false
        - in: body
          name: Shift
          required: true
          schema:
            $ref: '#/definitions/requestShiftSettings'
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successfully Created Shift Setting
          schema:
            $ref: '#/definitions/responseShiftSetting200'
        400:
          description: 'On Submit if selected Site already is Assigned to another Shift, than HTTP status code 400 and message
                        and also return the list of site ids that are assigned to other shifts.'
          schema:
            $ref: '#/definitions/responseShiftSetting400'
    get:
      description: 'Get all the records for a global account whose deleted_at is blank
                    https://seedigital.atlassian.net/browse/DCPORTAL-1504'
      parameters:
        - in: path
          name: global_account_id
          description: global account id
          required: true
          type: string
          default: "123"
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: list of sites accessible to the admin user
          schema:
            $ref: '#/definitions/responceGetShiftSettings'

  /{global_account_id}/shift-plans/{shift_plans_Id}:
    put:
      description: 'Update Shift plan Active flag
                    https://seedigital.atlassian.net/browse/DCPORTAL-1504'
      parameters:
        - in: path
          name: global_account_id
          description: global account id
          required: true
          type: string
          default: "123"
        - in: path
          name: shift_plans_Id
          description: Update with shiftId
          required: true
          type: string
          default: "a385b337-a58f-4c2d-9ed3-2354ae4ad186"
        - in: body
          name: body
          description: required parameters to update a unit preset
          required: true
          schema:
            $ref: '#/definitions/requestUpdateShift'
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Update name and Active of Shift
          schema:
            $ref: '#/definitions/responseUpdateShift'
    delete:
      description: 'Delete will Soft Delete and set the �deleted_at� 
                    field will be updated to the current time.
                    https://seedigital.atlassian.net/browse/DCPORTAL-1504'
      parameters:
        - in: path
          name: global_account_id
          description: global account id
          required: true
          type: string
          default: "123"
        - in: path
          name: shift_plans_Id
          description: Delete shift by ShiftId
          required: true
          type: string
          default: ""
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successful Shift Deletion
          schema:
            $ref: '#/definitions/responseDeleteShift'

  /{global_account_id}/thresholds:
    post:
      description: Create Thresholds settings - https://seedigital.atlassian.net/browse/DCPORTAL-1386
      parameters:
        - in: path
          name: global_account_id
          description: global account id
          required: true
          type: string
          default: "123"
        - in: query
          name: overwrite
          description: On creating a new Threshold,
                      If one or more site already assigned to
                      other threshold than there will be an error
                      httpStatus 400 and an alert box will be displayed
                      to user to overwrite or not, If user click yes,
                      than 'overwrite=true' will be appended to the url.
                      Than 'deleted_at' field with current date will be
                      set to the sites associated to older Threshold and
                      the sites will be associated with the new Threshold.
          required: true
          type: boolean
        - in: body
          name: thresholds
          required: true
          schema:
            $ref: '#/definitions/requestThresholdSettings'
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successfully Created Threshold Setting
          schema:
            $ref: '#/definitions/responseThresholdSetting200'
        400:
          description: On Submit if selected Site already is Assigned to
                        another Threshold or Threshold name already
                        exists, than HTTP status code 400 and message.
          schema:
            $ref: '#/definitions/responseThresholdSetting400'
    get:
      description: 'Get all the threshold records for a global
                    account whose deleted_at is blank
                    https://seedigital.atlassian.net/browse/DCPORTAL-1501'
      parameters:
        - in: path
          name: global_account_id
          description: global account id
          required: true
          type: string
          default: "123"
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Threshold list of sites accessible to the admin user
          schema:
            $ref: '#/definitions/responceGetThresholdSettings'

  /{global_account_id}/thresholds/{threshold_id}:
    get:
      description: 'Get single threshold record for a global
                    account whose deleted_at is blank
                    https://seedigital.atlassian.net/browse/DCPORTAL-3461'
      parameters:
        - in: path
          name: global_account_id
          description: global account id
          required: true
          type: string
          default: "123"
        - in: path
          name: threshold_id
          description: Update with threshold id
          required: true
          type: string
          default: "111"
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Threshold list of sites accessible to the admin user
          schema:
            $ref: '#/definitions/responceGetSingleThresholdSettings'
    put:
      description: 'Update threshold data (Same API for updating
                    active/inactive & Update form). For Active/Inactive
                    request object will only contain active = true/false,
                    and for update form the entire object with the
                    new values will be passed in request object.
                    https://seedigital.atlassian.net/browse/DCPORTAL-3460, https://seedigital.atlassian.net/browse/DCPORTAL-3461'
      parameters:
        - in: path
          name: global_account_id
          description: global account id
          required: true
          type: string
          default: "123"
        - in: path
          name: threshold_id
          description: Update with threshold id
          required: true
          type: string
          default: "111"
        - in: query
          name: overwrite
          description: On updating a Threshold,
                      If one or more site already assigned to
                      other threshold than there will be an error
                      httpStatus 400 and an alert box will be displayed
                      to user to overwrite or not, If user click yes,
                      than 'overwrite=true' will be appended to the url.
                      Than 'deleted_at' field with current date will be
                      set to the sites associated to older Threshold and
                      the sites will be associated with the new Threshold.
          required: true
          type: boolean
        - in: body
          name: body
          description: required parameters to update a unit preset
          required: true
          schema:
            $ref: '#/definitions/requestThresholdSettings'
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successfully Updated Threshold Setting
          schema:
            $ref: '#/definitions/responseUpdateThresholdSetting200'
        400:
          description: On Submit if selected Site already is Assigned
                      to another Threshold or Threshold name already
                      exists, than HTTP status code 400 and message.
          schema:
            $ref: '#/definitions/responseThresholdSetting400'
    delete:
      description: 'Delete will Soft Delete and set the �deleted_at�
                    field will be updated to the current time.
                    https://seedigital.atlassian.net/browse/DCPORTAL-3460'
      parameters:
        - in: path
          name: global_account_id
          description: global account id
          required: true
          type: string
          default: "123"
        - in: path
          name: threshold_id
          description: Update with threshold id
          required: true
          type: string
          default: "111"
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successful Threshold Deletion
          schema:
            $ref: '#/definitions/responseDeleteThreshold'

  /{global_account_id}/dispenser_error:
    put:
      description: 'Update description-action and rule.
                    The Description part is a global change and applies to all companies.
                    The Rule is a company-specific change applies to the one company'
      parameters:
        - in: path
          name: global_account_id
          description: global_account_id
          required: true
          type: string
          default: "123"
        
        - in: body
          name: body
          description: required parameters to update description and rule.
          required: true
          schema:
            $ref: '#/definitions/requestDispenserError'
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successfully Updated.
          schema:
            $ref: '#/definitions/responseDispenserError200'
            
    get:
      description: 'To Get desciption/Action and rules associated to a 
                      particular company(global id).'
      parameters:
        - in: path
          name: global_account_id
          description: global_account_id
          required: true
          type: string
          default: "123"
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successfully fetched admin dispenser settings.
          schema:
            $ref: '#/definitions/getResponseDispenserError'
        412:
          description: Failed to get admin dispenser settings.
          schema:
            $ref: '#/definitions/noAdminDispenserErrors'
            
        
  /{global_account_id}/self-subscription/{email_id}:
    put:
      description: 'User for a given company and site has the flexibility to 
                    edit the errors for which he needs to be notified.  If user dont choose any
                    site in the hierarchy and clicks on save.  At the backend 
                     he will be unsubscribed to all errors in all sites.'
                    
      parameters:
        - in: path
          name: global_account_id
          description: global_account_id
          required: true
          type: string
          default: "123"
        - in: path
          name: email_id
          description: emailid
          required: true
          type: string
          default: "ABC@diversey.com"
        - in: body
          name: body
          description: required parameters to update email and reminder subscription
          required: true
          schema:
            $ref: '#/definitions/updateSubscriptions'
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successfully Updated.
          schema:
            $ref: '#/definitions/responseDispenserError200'
    post:
      description: 'creating subscriptions of email and other services for the user
                    The subscription of emails for the selected events will be applicable 
                    for all the sites the user have chosen.During POST all the errors need to sent in request'
      parameters:
        - in: path
          name: global_account_id
          description: global_account_id
          required: true
          type: string
          default: "123"
        - in: path
          name: email_id
          description: emailid
          required: true
          type: string
          default: "ABC@diversey.com"
        - in: body
          name: body
          description: required parameters to update email and reminder subscription
          required: true
          schema:
            $ref: '#/definitions/updateSubscriptions'
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successfully created.
          schema:
            $ref: '#/definitions/responseDispenserError200'
    get:
      description: 'Displaying the email subscriptions and reminders subscribed by the user'
      parameters:
        - in: path
          name: global_account_id
          description: global_account_id
          required: true
          type: string
          default: "123"
        - in: path
          name: email_id
          description: emailid
          required: true
          type: string
          default: "ABC@diversey.com"
        - name: x-api-key
          in: header
          type: string
          required: true
          default: 979dumKkqJoaARJo6W8zobAGdHVDKI9g13zxcXc0
      responses:
        200:
          description: Successfully created.
          schema:
            $ref: '#/definitions/getUserSubscription'
                    
definitions:
  noAdminDispenserErrors:
    type: object
    required:
      - data
    properties:
      data:
        type: object
        required:
          - message
    example: 
      data:
        message: "No admin dispenser settings set for this company"
  
  itemsGetAdminDispenserErrors:
    type: object
    required:
      - name
      - description
      - action
      - rule
      - type
    properties:
      name:
        type: string
      description:
        type: string
      action:
        type: string
      type:
        type: string
      rule:
        type: object
        required:
          - duration
          - occurance
        properties:
          duration:
            type: string
          occurance:
            type: number
  getItemsEmailsubscriptions:
    type: object
    required:
      - name
      - email
      - reminder
      - time
      - type
      - description
      - action
      - rules
    properties:
      event_name:
        type: string
      email:
        type: boolean
      reminder:
        type: boolean
      time:
        type: string
      event_type:
        type: string
      description:
        type: string
      action:
        type: string
      rules:
        type: object
        required: 
          - duration
          - occurance
        properties:
          duration:
            type: string
          occurance:
            type: number
            
    
  itemsEmailsubscriptions:
    type: object
    required:
      - event_name
      - email
      - reminder
      - time
      - event_type
    properties:
      event_name:
        type: string
      email:
        type: boolean
      reminder:
        type: boolean
      time:
        type: string
      event_type:
        type: string
      
  getResponseDispenserError:
    type: object
    required:
      - data
    properties:
      data:
        type: array
      items:
        $ref: '#/definitions/itemsGetAdminDispenserErrors'
        
    example:
      data:
          - name: "E01 Low pressure"
            description: "This is low pressure"
            action: "enable pressure guage"
            rules:
              duration: "3:20"
              occurance: 3
            type: "alert"
          - name: "E02 High pressure"
            description: "This is high pressure"
            action: "disable pressure guage"
            rules:
              duration: "4:45"
              occurance: 3
            type: "notification"
          - name: "E02 High pressure"
            description: "This is high pressure"
            action: "disable pressure guage"
            rules:
              duration: null
              occurance: null
            type: "notification"
           

  responseDeleteCostThreshold:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: object
        required:
          - message
        properties:
          message:
            type: string
    example:
      success: true
      data:
        message: Threshold Deleted successfully 
  responsePutCostSettings200:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: object
    example:
      success: true
      data: 
        message: "Cost setting updated successfully"
  responseGetCostSettings412:
    type: object
    required:
      - data
    properties:
      data:
        type: object
    example:
      data: 
        message: 'No Data available'
  responseGetCostSetting200:
    type: object
    required:
      - active
      - currency
      - cost_plan_name
      - sites
      - costs
    properties:
      active:
        type: boolean
      currency:
        type: string
      cost_plan_name:
        type: string
      sites:
        type: array
        items:
          type: string
      costs:
        type: object
        required:
          - water_cost
          - energy_cost
        properties:
          water_cost:
            type: number
          energy_cost:
            type: number
    example:
      active: true
      currency: 'USD'
      cost_plan_name: 'India cost setting'
      sites:
        - '123'
        - '234'
      costs:
        water_cost: 234
        energy_cost: 345
  responseGetCostSettings200:
    type: object
    required:
      - data
      - currency
    properties:
      currency:
        type: string
      data:
        type: array
        items:
          type: object
          required:
            - id
            - active
            - cost_setting_name
            - sites
            - water_cost
            - energy_cost
          properties:
            id:
              type: string
            active:
              type: boolean
            cost_setting_name:
              type: string
            sites:
              type: array
              items:
                type: string
            water_cost:
                  type: number
            energy_cost:
                  type: number    
            
                
    example:
      currency: 'INR'
      data:
        - id: '57b5fbe1-7464-4b31-97d6-fb75bf44db73'
          cost_setting_name: 'Electronic city cost settings'
          active: false
          sites:
            - '123'
            - '234'
          water_cost: 45.34
          energy_cost: 56.5
        - id: '37b5fbe1-7464-4b31-97d6-fb75bf44db73'
          cost_setting_name: 'Whitefield cost setting'
          active: true
          sites:
            - '456'
            - '888'
          
          water_cost: 55
          energy_cost: 88
        - id: '88b5fbe1-7464-4b31-97d6-fb75bf44db73'
          cost_setting_name: 'Goa cost settings'
          active: true
          sites:
            - '123'
            - '234'
          
          water_cost: 41.22
          energy_cost: 50.23
          
     
            
  responceGetShiftSettings:
    type: object
    required:
      - data
    properties:
      data:
        type: array
        items:
          type: object
          required:
            - id
            - active
            - shift_plan_name
            - no_of_shifts
            - sites
            - shifts
          properties:
            id:
              type: string
            active:
              type: boolean
            shift_plan_name:
              type: string
            no_of_shifts:
              type: integer
            sites:
              type: array
              items:
                type: string
            shifts:
              type: array
              items:
                type: object
                required:
                  - shift_name
                  - active
                  - days
                properties:
                  shift_name:
                    type: string
                  active:
                    type: boolean
                  days:
                    type: array
                    items:
                      type: object
                      required:
                        - active
                        - day
                        - start_time
                        - duration
                      properties:
                        active:
                          type: boolean
                        day:
                          type: string
                        start_time:
                          type: string
                          format: time
                        duration:
                          type: string
    example:
      data:
      - id: "1234"
        active: true
        shift_plan_name: "McD Shift"
        no_of_shifts: 2
        sites:
          - "1"
        shifts:
          - active: true
            shift_name: "Morning Shift"
            days:
              - active: true
                day: "Monday"
                start_time: "07:00"
                duration: "08:00"
              - active: true
                day: "Tuesday"
                start_time: "07:00"
                duration: "08:00"
              - active: true
                day: "Wednesday"
                start_time: "07:00"
                duration: "08:00"
              - active: true
                day: "Thursday"
                start_time: "07:00"
                duration: "08:00"
              - active: true
                day: "Friday"
                start_time: "07:00"
                duration: "08:00"
              - active: true
                day: "Saturday"
                start_time: "07:00"
                duration: "08:00"
              - active: true
                day: "Sunday"
                start_time: "07:00"
                duration: "08:00"
          - active: true
            shift_name: "Evening Shift"
            days:
              - active: true
                day: "Monday"
                start_time: "15:00"
                duration: "08:00"
              - active: true
                day: "Tuesday"
                start_time: "15:00"
                duration: "08:00"
              - active: true
                day: "Wednesday"
                start_time: "15:00"
                duration: "08:00"
              - active: true
                day: "Thursday"
                start_time: "15:00"
                duration: "08:00"
              - active: true
                day: "Friday"
                start_time: "15:00"
                duration: "08:00"
              - active: true
                day: "Saturday"
                start_time: "15:00"
                duration: "08:00"
              - active: true
                day: "Sunday"
                start_time: "15:00"
                duration: "08:00"
      - id: "5678"
        active: true
        shift_plan_name: "WalMart Shift"
        no_of_shifts: 1
        sites:
          - "41"
        shifts:
          - active: true
            shift_name: "Morning Shift"
            days:
              - active: true
                day: "Monday"
                start_time: "23:00"
                duration: "08:00"
              - active: true
                day: "Tuesday"
                start_time: "23:00"
                duration: "08:00"
              - active: true
                day: "Wednesday"
                start_time: "23:00"
                duration: "08:00"
              - active: true
                day: "Thursday"
                start_time: "23:00"
                duration: "08:00"
              - active: true
                day: "Friday"
                start_time: "23:00"
                duration: "08:00"
              - active: true
                day: "Saturday"
                start_time: "23:00"
                duration: "08:00"
              - active: true
                day: "Sunday"
                start_time: "23:00"
                duration: "08:00"
  requestCostSettings:
    type: object
    required:
     - active
     - currency
     - cost_plan_name
     - sites
     - costs
    properties:
      active:
        type: boolean
      currency:
        type: string
      cost_plan_name:
        type: string
      sites:
        type: array
        items:
          type: string
      costs:
        type: object
        required: 
          - water_cost
          - energy_cost
        properties:
          water_cost:
            type: number
          energy_cost:
            type: number
    example:
      active: true
      currency: 'INR'
      cost_plan_name: 'Bangalore EC cost plan'
      sites:
        - '123'
        - '456'
      costs:
          water_cost: 23
          energy_cost: 33
  requestShiftSettings:
    type: object
    required:
      - active
      - shift_plan_name
      - no_of_shifts
      - sites
      - shifts
    properties:
      active:
        type: boolean
      shift_plan_name:
        type: string
      no_of_shifts:
        type: integer
      sites:
        type: array
        items:
          type: string
      shifts:
        type: array
        items:
          type: object
          required:
            - shift_name
            - title
            - active
            - days
          properties:
            shift_name:
              type: string
            title:
              type: string
            active:
              type: boolean
            days:
              type: array
              items:
                type: object
                required:
                  - active
                  - day
                  - start_time
                  - duration
                properties:
                  active:
                    type: boolean
                  day:
                    type: string
                  start_time:
                    type: string
                    format: time
                  duration:
                    type: string
    example:
      active: true
      shift_plan_name: "McD Shift"
      no_of_shifts: 2
      sites:
          - "1"
          - "41"
          - "51"
      shifts:
        - active: true
          shift_name: "Morning Shift"
          days:
            - active: true
              day: "Monday"
              start_time: "07:00"
              duration: "08:00"
            - active: true
              day: "Tuesday"
              start_time: "07:00"
              duration: "08:00"
            - active: true
              day: "Wednesday"
              start_time: "07:00"
              duration: "08:00"
            - active: true
              day: "Thursday"
              start_time: "07:00"
              duration: "08:00"
            - active: true
              day: "Friday"
              start_time: "07:00"
              duration: "08:00"
            - active: true
              day: "Saturday"
              start_time: "07:00"
              duration: "08:00"
            - active: true
              day: "Sunday"
              start_time: "07:00"
              duration: "08:00"
        - active: true
          shift_name: "Evening Shift"
          days:
            - active: true
              day: "Monday"
              start_time: "15:00"
              duration: "08:00"
            - active: true
              day: "Tuesday"
              start_time: "15:00"
              duration: "08:00"
            - active: true
              day: "Wednesday"
              start_time: "15:00"
              duration: "08:00"
            - active: true
              day: "Thursday"
              start_time: "15:00"
              duration: "08:00"
            - active: true
              day: "Friday"
              start_time: "15:00"
              duration: "08:00"
            - active: true
              day: "Saturday"
              start_time: "15:00"
              duration: "08:00"
            - active: true
              day: "Sunday"
              start_time: "15:00"
              duration: "08:00"
  responseCostSetting200:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: object
        required:
          - cost_id
        properties:
          cost_id:
            type: string
    example:
      success: True
      data:
        cost_settings_id: '77b5fbe1-7464-4b31-97d6-fb75bf44db73'
  responseCostSetting400:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: object
        required:
          - name
          - sites
        properties:
          name:
            type: object
          sites:
            type: object
    example:
      success: false
      data: 
        name:   
          message: "Cost threshold name already exists"
        sites:
          message: "Sites are already associated with another cost threshold"
          site_ids: 
            - '123'
            - '234'
  responseShiftSetting200:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: object
        required:
          - shift_id
        properties:
          shift_id:
            type: string
    example:
      success: true
      data:
          shift_id: "123456"

  responseShiftSetting400:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: object
        required:
          - message
          - site_ids
        properties:
          message:
            type: string
          site_ids:
            type: array
            items:
              type: string
    example:
      success: false
      data:
        message: "Sites are already associated with another shift"
        site_ids:
          - "st001"
          - "st002"

  requestUpdateShift:
    type: object
    required:
      - active
    properties:
      active:
        type: boolean
    example:
      active: true

  responseUpdateShift:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: object
        required:
          - message
        properties:
          message:
            type: string
    example:
      success: true
      data:
        message: Shift updated successfully
      
  responseDeleteShift:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: object
        required:
          - message
        properties:
          message:
            type: string
    example:
      success: true
      data:
        message: Shift Deleted successfully

  responceGetThresholdSettings:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: array
        items:
          type: object
          required:
            - id
            - active
            - name
            - sites
            - production
            - quality
            - consumption
            - cost
          properties:
            id:
              type: string
            active:
              type: boolean
            name:
              type: string
            sites:
              type: array
              items:
                type: string
            production:
              type: object
              required:
                - linen
                - loads
                - occupancy_washer
                - occupancy_dryer
              properties:
                linen:
                  type: object
                  required:
                    - active
                    - unit
                    - threshold
                  properties:
                    active:
                      type: boolean
                    unit:
                      type: string
                    threshold:
                      type: number
                loads:
                  type: object
                  required:
                    - active
                    - threshold
                  properties:
                    active:
                      type: boolean
                    threshold:
                      type: number
                occupancy_washer:
                  type: object
                  required:
                    - active
                    - threshold_percent
                  properties:
                    active:
                      type: boolean
                    threshold_percent:
                      type: number
                occupancy_dryer:
                  type: object
                  required:
                    - active
                    - threshold_percent
                  properties:
                    active:
                      type: boolean
                    threshold_percent:
                      type: number
            quality:
              type: object
              required:
                - rewashes
                - aborted
              properties:
                rewashes:
                  type: object
                  required:
                    - active
                    - threshold
                    - threshold_percent
                  properties:
                    active:
                      type: boolean
                    threshold:
                      type: number
                    threshold_percent:
                      type: number
                aborted:
                  type: object
                  required:
                    - active
                    - threshold
                    - threshold_percent
                  properties:
                    active:
                      type: boolean
                    threshold:
                      type: number
                    threshold_percent:
                      type: number
            consumption:
              type: object
              required:
                - water_consumption
                - chemical_consumption
                - energy_consumption_washer
                - energy_consumption_dryer
              properties:
                water_consumption:
                  type: object
                  required:
                    - active
                    - unit
                    - threshold_per_linen
                    - threshold
                  properties:
                    active:
                      type: boolean
                    unit:
                      type: string
                    threshold_per_linen:
                      type: number
                    threshold:
                      type: number
                chemical_consumption:
                  type: object
                  required:
                    - active
                    - unit
                    - threshold_per_linen
                    - threshold
                  properties:
                    active:
                      type: boolean
                    unit:
                      type: string
                    threshold_per_linen:
                      type: number
                    threshold:
                      type: number
                energy_consumption_washer:
                  type: object
                  required:
                    - active
                    - unit
                    - threshold_per_linen
                    - threshold
                  properties:
                    active:
                      type: boolean
                    unit:
                      type: string
                    threshold_per_linen:
                      type: number
                    threshold:
                      type: number
                energy_consumption_dryer:
                  type: object
                  required:
                    - active
                    - unit
                    - threshold_per_linen
                    - threshold
                  properties:
                    active:
                      type: boolean
                    unit:
                      type: string
                    threshold_per_linen:
                      type: number
                    threshold:
                      type: number
            cost:
              type: object
              required:
                - water_costs
                - energy_costs
                - chemical_costs
              properties:
                water_costs:
                  type: object
                  required:
                    - active
                    - unit
                    - threshold
                  properties:
                    active:
                      type: boolean
                    unit:
                      type: string
                    threshold:
                      type: number
                energy_costs:
                  type: object
                  required:
                    - active
                    - unit
                    - threshold
                  properties:
                    active:
                      type: boolean
                    unit:
                      type: string
                    threshold:
                      type: number
                chemical_costs:
                  type: object
                  required:
                    - active
                    - unit
                    - threshold
                  properties:
                    active:
                      type: boolean
                    unit:
                      type: string
                    threshold:
                      type: number
    example:
      data:
        - id: "1a2b3c4d5e"
          active: true
          name: "Threshold Name 1"
          sites:
            - "1122"
            - "2233"
          production:
            linen:
              active: true
              unit: "kg"
              threshold: 20
            loads:
              active: true
              threshold: 30
            occupancy_washer:
              active: true
              threshold_percent: 50
            occupancy_dryer:
              active: true
              threshold_percent: 15
          quality:
            rewashes:
              active: true
              threshold: 10
              threshold_percent: 20
            aborted:
              active: true
              threshold: 10
              threshold_percent: 20
          consumption:
            water_consumption:
              active: true
              unit: "m3"
              threshold_per_linen: 15
              threshold: 5
            chemical_consumption:
              active: true
              unit: "L"
              threshold_per_linen: 15
              threshold: 5
            energy_consumption_washer:
              active: true
              unit: "kw/h"
              threshold_per_linen: 15
              threshold: 5
            energy_consumption_dryer:
              active: true
              unit: "kw/h"
              threshold_per_linen: 15
              threshold: 5
          cost:
            water_costs:
              active: true
              unit: "�"
              threshold: 20
            energy_costs:
              active: true
              unit: "�"
              threshold: 20
            chemical_costs:
              active: true
              unit: "�"
              threshold: 20
        - id: "0q9w8e7r6t"
          active: true
          name: "Threshold Name 2"
          sites:
            - "3344"
            - "4455"
          production:
            linen:
              active: true
              unit: "kg"
              threshold: 20
            loads:
              active: true
              threshold: 30
            occupancy_washer:
              active: true
              threshold_percent: 50
            occupancy_dryer:
              active: true
              threshold_percent: 15
          quality:
            rewashes:
              active: true
              threshold: 10
              threshold_percent: 20
            aborted:
              active: true
              threshold: 10
              threshold_percent: 20
          consumption:
            water_consumption:
              active: true
              unit: "m3"
              threshold_per_linen: 15
              threshold: 5
            chemical_consumption:
              active: true
              unit: "L"
              threshold_per_linen: 15
              threshold: 5
            energy_consumption_washer:
              active: true
              unit: "kw/h"
              threshold_per_linen: 15
              threshold: 5
            energy_consumption_dryer:
              active: true
              unit: "kw/h"
              threshold_per_linen: 15
              threshold: 5
          cost:
            water_costs:
              active: true
              unit: "�"
              threshold: 20
            energy_costs:
              active: true
              unit: "�"
              threshold: 20
            chemical_costs:
              active: true
              unit: "�"
              threshold: 20
        - id: "5z6x4c7v8b"
          active: false
          name: "Threshold Name 3"
          sites:
            - "1122"
          production:
            linen:
              active: true
              unit: "kg"
              threshold: 20
            loads:
              active: true
              threshold: 30
            occupancy_washer:
              active: true
              threshold_percent: 50
            occupancy_dryer:
              active: true
              threshold_percent: 15
          quality:
            rewashes:
              active: true
              threshold: 10
              threshold_percent: 20
            aborted:
              active: true
              threshold: 10
              threshold_percent: 20
          consumption:
            water_consumption:
              active: true
              unit: "m3"
              threshold_per_linen: 15
              threshold: 5
            chemical_consumption:
              active: true
              unit: "L"
              threshold_per_linen: 15
              threshold: 5
            energy_consumption_washer:
              active: true
              unit: "kw/h"
              threshold_per_linen: 15
              threshold: 5
            energy_consumption_dryer:
              active: true
              unit: "kw/h"
              threshold_per_linen: 15
              threshold: 5
          cost:
            water_costs:
              active: true
              unit: "�"
              threshold: 20
            energy_costs:
              active: true
              unit: "�"
              threshold: 20
            chemical_costs:
              active: true
              unit: "�"
              threshold: 20

  responceGetSingleThresholdSettings:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: object
        required:
          - id
          - system_id
          - active
          - name
          - sites
          - production
          - quality
          - consumption
          - cost
        properties:
          id:
            type: string
          system_id:
            type: string
          active:
            type: boolean
          name:
            type: string
          sites:
            type: array
            items:
              type: string
          production:
            type: object
            required:
              - linen
              - loads
              - occupancy_washer
              - occupancy_dryer
            properties:
              linen:
                type: object
                required:
                  - active
                  - unit
                  - threshold
                properties:
                  active:
                    type: boolean
                  unit:
                    type: string
                  threshold:
                    type: number
              loads:
                type: object
                required:
                  - active
                  - threshold
                properties:
                  active:
                    type: boolean
                  threshold:
                    type: number
              occupancy_washer:
                type: object
                required:
                  - active
                  - threshold_percent
                properties:
                  active:
                    type: boolean
                  threshold_percent:
                    type: number
              occupancy_dryer:
                type: object
                required:
                  - active
                  - threshold_percent
                properties:
                  active:
                    type: boolean
                  threshold_percent:
                    type: number
          quality:
            type: object
            required:
              - rewashes
              - aborted
            properties:
              rewashes:
                type: object
                required:
                  - active
                  - threshold
                  - threshold_percent
                properties:
                  active:
                    type: boolean
                  threshold:
                    type: number
                  threshold_percent:
                    type: number
              aborted:
                type: object
                required:
                  - active
                  - threshold
                  - threshold_percent
                properties:
                  active:
                    type: boolean
                  threshold:
                    type: number
                  threshold_percent:
                    type: number
          consumption:
            type: object
            required:
              - water_consumption
              - chemical_consumption
              - energy_consumption_washer
              - energy_consumption_dryer
            properties:
              water_consumption:
                type: object
                required:
                  - active
                  - unit
                  - threshold_per_linen
                  - threshold
                properties:
                  active:
                    type: boolean
                  unit:
                    type: string
                  threshold_per_linen:
                    type: number
                  threshold:
                    type: number
              chemical_consumption:
                type: object
                required:
                  - active
                  - unit
                  - threshold_per_linen
                  - threshold
                properties:
                  active:
                    type: boolean
                  unit:
                    type: string
                  threshold_per_linen:
                    type: number
                  threshold:
                    type: number
              energy_consumption_washer:
                type: object
                required:
                  - active
                  - unit
                  - threshold_per_linen
                  - threshold
                properties:
                  active:
                    type: boolean
                  unit:
                    type: string
                  threshold_per_linen:
                    type: number
                  threshold:
                    type: number
              energy_consumption_dryer:
                type: object
                required:
                  - active
                  - unit
                  - threshold_per_linen
                  - threshold
                properties:
                  active:
                    type: boolean
                  unit:
                    type: string
                  threshold_per_linen:
                    type: number
                  threshold:
                    type: number
          cost:
            type: object
            required:
              - water_costs
              - energy_costs
              - chemical_costs
            properties:
              water_costs:
                type: object
                required:
                  - active
                  - unit
                  - threshold
                properties:
                  active:
                    type: boolean
                  unit:
                    type: string
                  threshold:
                    type: number
              energy_costs:
                type: object
                required:
                  - active
                  - unit
                  - threshold
                properties:
                  active:
                    type: boolean
                  unit:
                    type: string
                  threshold:
                    type: number
              chemical_costs:
                type: object
                required:
                  - active
                  - unit
                  - threshold
                properties:
                  active:
                    type: boolean
                  unit:
                    type: string
                  threshold:
                    type: number
    example:
      data:
        id: "1a2b3c4d5e"
        system_id: "a3udjs2s8fhn48sbhak"
        active: true
        name: "Threshold Name 1"
        sites:
          - "1122"
          - "2233"
        production:
          linen:
            active: true
            unit: "kg"
            threshold: 20
          loads:
            active: true
            threshold: 30
          occupancy_washer:
            active: true
            threshold_percent: 50
          occupancy_dryer:
            active: true
            threshold_percent: 15
        quality:
          rewashes:
            active: true
            threshold: 10
            threshold_percent: 20
          aborted:
            active: true
            threshold: 10
            threshold_percent: 20
        consumption:
          water_consumption:
            active: true
            unit: "m3"
            threshold_per_linen: 15
            threshold: 5
          chemical_consumption:
            active: true
            unit: "L"
            threshold_per_linen: 15
            threshold: 5
          energy_consumption_washer:
            active: true
            unit: "kw/h"
            threshold_per_linen: 15
            threshold: 5
          energy_consumption_dryer:
            active: true
            unit: "kw/h"
            threshold_per_linen: 15
            threshold: 5
        cost:
          water_costs:
            active: true
            unit: "�"
            threshold: 20
          energy_costs:
            active: true
            unit: "�"
            threshold: 20
          chemical_costs:
            active: true
            unit: "�"
            threshold: 20

  requestThresholdSettings:
    type: object
    required:
      - active
      - name
      - sites
      - currency
      - production
      - quality
      - consumption
      - cost
    properties:
      active:
        type: boolean
      name:
        type: string
      currency:
        type: string
      sites:
        type: array
        items:
          type: string
      production:
        type: object
        required:
          - linen
          - loads
          - occupancy_washer
          - occupancy_dryer
        properties:
          linen:
            type: object
            required:
              - active
              - unit
              - threshold
            properties:
              active:
                type: boolean
              unit:
                type: string
              threshold:
                type: number
          loads:
            type: object
            required:
              - active
              - threshold
            properties:
              active:
                type: boolean
              threshold:
                type: number
          occupancy_washer:
            type: object
            required:
              - active
              - threshold_percent
            properties:
              active:
                type: boolean
              threshold_percent:
                type: number
          occupancy_dryer:
            type: object
            required:
              - active
              - threshold_percent
            properties:
              active:
                type: boolean
              threshold_percent:
                type: number
      quality:
        type: object
        required:
          - rewashes
          - aborted
        properties:
          rewashes:
            type: object
            required:
              - active
              - threshold
              - threshold_percent
            properties:
              active:
                type: boolean
              threshold:
                type: number
              threshold_percent:
                type: number
          aborted:
            type: object
            required:
              - active
              - threshold
              - threshold_percent
            properties:
              active:
                type: boolean
              threshold:
                type: number
              threshold_percent:
                type: number
      consumption:
        type: object
        required:
          - water_consumption
          - chemical_consumption
          - energy_consumption_washer
          - energy_consumption_dryer
        properties:
          water_consumption:
            type: object
            required:
              - active
              - unit
              - threshold_per_linen
              - threshold
            properties:
              active:
                type: boolean
              unit:
                type: string
              threshold_per_linen:
                type: number
              threshold:
                type: number
          chemical_consumption:
            type: object
            required:
              - active
              - unit
              - threshold_per_linen
              - threshold
            properties:
              active:
                type: boolean
              unit:
                type: string
              threshold_per_linen:
                type: number
              threshold:
                type: number
          energy_consumption_washer:
            type: object
            required:
              - active
              - unit
              - threshold_per_linen
              - threshold
            properties:
              active:
                type: boolean
              unit:
                type: string
              threshold_per_linen:
                type: number
              threshold:
                type: number
          energy_consumption_dryer:
            type: object
            required:
              - active
              - unit
              - threshold_per_linen
              - threshold
            properties:
              active:
                type: boolean
              unit:
                type: string
              threshold_per_linen:
                type: number
              threshold:
                type: number
      cost:
        type: object
        required:
          - water_costs
          - energy_costs
          - chemical_costs
          - total_costs
        properties:
          water_costs:
            type: object
            required:
              - active
              - unit
              - threshold
              - threshold_per_linen
            properties:
              active:
                type: boolean
              unit:
                type: string
              threshold:
                type: number
              threshold_per_linen:
                type: number
          energy_costs:
            type: object
            required:
              - active
              - unit
              - threshold
              - threshold_per_linen
            properties:
              active:
                type: boolean
              unit:
                type: string
              threshold:
                type: number
              threshold_per_linen:
                type: number
          chemical_costs:
            type: object
            required:
              - active
              - unit
              - threshold
              - threshold_per_linen
            properties:
              active:
                type: boolean
              unit:
                type: string
              threshold:
                type: number
              threshold_per_linen:
                type: number
          total_costs:
            type: object
            required:
              - active
              - unit
              - threshold
              - threshold_per_linen
    example:
      active: true
      currency: 'INR'
      name: "Thereshold name"
      sites:
        - "1234"
        - "5678"
      production:
        linen:
          active: true
          unit: "kg"
          threshold: 20
        loads:
          active: true
          threshold: 30
        occupancy_washer:
          active: true
          threshold_percent: 50
        occupancy_dryer:
          active: true
          threshold_percent: 15
      quality:
        rewashes:
          active: true
          threshold: 10
          threshold_percent: 20
        aborted:
          active: true
          threshold: 10
          threshold_percent: 20
      consumption:
        water_consumption:
          active: true
          unit: "m3"
          threshold_per_linen: 15
          threshold: 5
        chemical_consumption:
          active: true
          unit: "L"
          threshold_per_linen: 15
          threshold: 5
        energy_consumption_washer:
          active: true
          unit: "kw/h"
          threshold_per_linen: 15
          threshold: 5
        energy_consumption_dryer:
          active: true
          unit: "kw/h"
          threshold_per_linen: 15
          threshold: 5
      cost:
        water_costs:
          active: true
          unit: "�"
          threshold: 20
          threshold_per_linen: 2
        energy_costs:
          active: true
          unit: "�"
          threshold: 20
          threshold_per_linen: 3
        chemical_costs:
          active: true
          unit: "�"
          threshold: 20
          threshold_per_linen: 2
        total_costs:
          active: true
          unit: "�"
          threshold: 30
          threshold_per_linen: 3

  responseThresholdSetting200:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: object
        required:
          - threshold_id
        properties:
          threshold_id:
            type: string
    example:
      success: true
      data:
          threshold_id: "123456"

  responseUpdateThresholdSetting200:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: object
        required:
          - threshold_id
        properties:
          threshold_id:
            type: string
    example:
      success: true
      data:
          message: "Threshold updated successfully."

  responseThresholdSetting400:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: object
        required:
          - name
          - sites
        properties:
          name:
            type: object
            properties:
              message:
                type: string
          sites:
            type: object
            properties:
              message:
                type: string
              site_ids:
                type: array
                items:
                  type: string
    example:
      success: false
      data:
        name:
          message: "Threshold name already exists"
        sites:
          message: "Sites are already associated with another threshold"
          site_ids:
            - "1234"
            - "5678"

  responseDeleteThreshold:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: object
        required:
          - message
        properties:
          message:
            type: string
    example:
      success: true
      data:
        message: Threshold Deleted successfully
  
  requestDispenserError:
    type: object
    required:
      - data
    properties:
      data:
        type: array
      items:
        $ref: '#/definitions/itemsGetAdminDispenserErrors'
                  
    example:
      data:
          - name: "E01 Low pressure"
            description: "This is low pressure"
            action: "enable pressure guage"
            rules:
              duration: "3:20"
              occurance: 3
            type: "alert"
          - name: "E02 High pressure"
            description: "This is high pressure"
            action: "disable pressure guage"
            rules:
              duration: "4:45"
              occurance: 3
            type: "notification"
       

  
  responseDispenserError200:
    type: object
    required:
      - success
      - data
    properties:
      success:
        type: boolean
      data:
        type: object
        required:
          - message
        properties:
          message:
            type: string
    example:
      success: true
      data:
        message: details updated successfully.
  getUserSubscription:
    type: object
    required:
     - sites
     - events
    properties:
      sites:
        type: array
        items:
          type: string
      events:
        type: array
        items:  
          $ref: '#/definitions/getItemsEmailsubscriptions'
    example:
      sites :
        - '68'
        - '72'
      events :
        - name: "E01 Low pressure"
          email: true
          reminder : true
          time : "02:00"
          type: "Notification"
          description: "Pressure is low in dispenser"
          action: "Maintain optimum pressure in dispenser"
          rules:
              duration: "4:32"
              occurance: 4
        - name: "E02 Configuration Error"
          email: true
          reminder : false
          time : "00:00"
          type: "Alarm"
          description: "Configuration Error in embedded chip"
          action: "Reconfigure chip"
          rules:
              duration: "4:32"
              occurance: 4
        - name: "E02 Configuration Error"
          email: true
          reminder : false
          time : "00:00"
          type: "Alarm"
          description: "Configuration Error in embedded chip"
          action: "Reconfigure chip"
          rules:
              duration: "4:32"
              occurance: 4
        - name: "Daily Thresholds Summary"
          email: true
          reminder : null
          time: null
          type: "Alarm"
          description: "Configuration Error in embedded chip"
          action: "Reconfigure chip"
          rules: null
           
          
  
  updateSubscriptions:
    type: object
    required:
     - sites
     - events
     
    properties:
      sites:
        type: array
        items:
          type: string
      events:
        type: array
        items:  
          $ref: '#/definitions/itemsEmailsubscriptions'
    example:
      sites :
        - '68'
        - '72'
      events :
        - name: "E01 Low pressure"
          email: true
          reminder : true
          time : "02:00"
          type: "Notification"
        - name: "E02 Configuration Error"
          email: true
          reminder : false
          time : "00:00"
          type: "Alarm"
        - name: "E02 Configuration Error"
          email: true
          reminder : false
          time : "00:00"
          type: "Alarm"
        - name: "Daily Thresholds Summary"
          email: true
          reminder : null
          time: null
          type: "Alarm"
          
  
  getSubscriptions:
    type: object
    required:
     - email_id
     - sites
    properties:
      email_id:
        type: string
      sites:
        type: array
        items:
          type: string
    example:
      email_id : "ABC@diversey.com"
      sites :
        - '68'
        - '72'
          